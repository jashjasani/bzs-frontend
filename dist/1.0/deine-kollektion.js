document.addEventListener("DOMContentLoaded",async()=>{var e=new URLSearchParams(window.location.search);let m=document.querySelector(".single-collection-wrapper");document.querySelector(".login-head").innerText=e.get("name"),e.get("name")&&fetch("https://bildzeitschrift.netlify.app/.netlify/functions/collection?name="+e.get("name"),{method:"GET",headers:{Authorization:sessionStorage.getItem("auth")}}).then(e=>e.json()).then(t=>{var r="https://res.cloudinary.com/wdy-bzs/image/upload/images/";let a=m.innerHTML="";for(let e=0;e<t.collection.items.length;e++){var i=t.collection.items[e].replaceAll("-","_").replaceAll("(","").replaceAll(")","");a+=`<a href="https://www.bildzeitschrift.com/magazine?productId=${t.collection.items[e]}" class="item-link w-inline-block" randid=${e} sku="${t.collection.items[e]}" jahr="${t.resolved[e].Jahr}" name="${t.resolved[e].Name}" monat="${t.resolved[e].Monat}">
                <img src="${r+i}"  style="height: -webkit-fill-available; width: -webkit-fill-available;" loading="lazy" sizes="(max-width: 479px) 86vw, (max-width: 767px) 40vw, (max-width: 991px) 27vw, 21vw" alt="" srcset="${r+i} 500w, ${r+i} 800w,${r+i} 1080w, ${r+i} 1536w," class="single-collection-img"></a>`}document.querySelector(".produvt-img-wrapper.w-inline-block").remove(),m.insertAdjacentHTML("beforeend",a)});document.querySelector(".presentation-mode").addEventListener("click",function(e){e.preventDefault();const t="";for(i of document.querySelectorAll(".single-collection-img"))t+=`<section style="height: 100vh;background: black; width:100%" data-background-color="black">
                        <img style="margin-top:0;" src="${i.src}">
                   </section>`;e=`
                            <div class="reveal">
                                <div class="slides" style="background: black; width:100%">
                                    ${t}
                                </div>
                            </div>
                            `;document.body.insertAdjacentHTML("afterbegin",e);let r=new Reveal({touch:!0,embedded:!1,help:!0,width:"100%",keyboard:{27:()=>{r.destroy(),document.querySelector(".reveal").remove()}}});r.configure({touch:!0,help:!0,controls:!0}),r.initialize().then()});e=document.querySelector("#Filter-Kollektionen");e.value="",e.addEventListener("change",()=>{var e=Array.from(m.children);{var t=event.target.value,r=e,a=m;let o={"Jänner":1,Februar:2,"März":3,April:4,Mai:5,Juni:6,Juli:7,August:8,September:9,Oktober:10,November:11,Dezember:12};switch(t){case"":a.innerHTML="";for(var i of r)a.appendChild(i);break;case"First":r.sort((e,t)=>e.getAttribute("sku").localeCompare(t.getAttribute("sku"))),a.innerHTML="";for(var n of r)a.appendChild(n);break;case"Second":r.sort((e,t)=>t.getAttribute("sku").localeCompare(e.getAttribute("sku"))),a.innerHTML="";for(var l of r)a.appendChild(l);break;case"Third":r.sort((e,t)=>e.getAttribute("randid").localeCompare(t.getAttribute("randid"))),a.innerHTML="";for(var c of r)a.appendChild(c);break;case"Fourth":r.sort((e,t)=>t.getAttribute("randid").localeCompare(e.getAttribute("randid"))),a.innerHTML="";for(var d of r)a.appendChild(d);break;case"Fifth":r.sort((e,t)=>{var r=Number(e.getAttribute("jahr")),a=Number(t.getAttribute("jahr")),i=o[e.getAttribute("monat")],n=o[t.getAttribute("monat")],e=e.getAttribute("name"),t=t.getAttribute("name");return r!==a?r-a:i!==n?i-n:e.localeCompare(t)}),a.innerHTML="";for(var s of r)a.appendChild(s);break;case"Sixth":r.sort((e,t)=>{var r=Number(e.getAttribute("jahr")),a=Number(t.getAttribute("jahr")),i=o[e.getAttribute("monat")],n=o[t.getAttribute("monat")],e=e.getAttribute("name"),t=t.getAttribute("name");return r!==a?a-r:i!==n?n-i:t.localeCompare(e)}),a.innerHTML="";for(var u of r)a.appendChild(u)}}})});